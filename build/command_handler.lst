ARM GAS  /var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"command_handler.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/command_handler/command_handler.c"
  20              		.section	.text.CommandHandler_Init,"ax",%progbits
  21              		.align	1
  22              		.global	CommandHandler_Init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	CommandHandler_Init:
  28              	.LFB137:
   1:Core/Src/command_handler/command_handler.c **** /**
   2:Core/Src/command_handler/command_handler.c ****   ******************************************************************************
   3:Core/Src/command_handler/command_handler.c ****   * @file    command_handler.c
   4:Core/Src/command_handler/command_handler.c ****   * @brief   This file handles high-level command logic, timing for measurements,
   5:Core/Src/command_handler/command_handler.c ****   * and triggering data acquisition.
   6:Core/Src/command_handler/command_handler.c ****   ******************************************************************************
   7:Core/Src/command_handler/command_handler.c ****   */
   8:Core/Src/command_handler/command_handler.c **** 
   9:Core/Src/command_handler/command_handler.c **** /* Includes ------------------------------------------------------------------*/
  10:Core/Src/command_handler/command_handler.c **** #include "command_handler.h"
  11:Core/Src/command_handler/command_handler.c **** #include "i2c_handler.h"
  12:Core/Src/command_handler/command_handler.c **** #include "uart_handler.h"
  13:Core/Src/command_handler/command_handler.c **** #include "timer.h"
  14:Core/Src/command_handler/command_handler.c **** #include "gps_handler.h"
  15:Core/Src/command_handler/command_handler.c **** #include <stdio.h>
  16:Core/Src/command_handler/command_handler.c **** 
  17:Core/Src/command_handler/command_handler.c **** /* Private define ------------------------------------------------------------*/
  18:Core/Src/command_handler/command_handler.c **** #define MEASUREMENT_INTERVAL_MS 1000 // Log a data packet once per second
  19:Core/Src/command_handler/command_handler.c **** #define GPS_FIX_TIMEOUT_MS      300000   // Timeout for getting a GPS fix (5 minutes)
  20:Core/Src/command_handler/command_handler.c **** 
  21:Core/Src/command_handler/command_handler.c **** /* Private variables ---------------------------------------------------------*/
  22:Core/Src/command_handler/command_handler.c **** static u32 s_measurement_timer = 0;
  23:Core/Src/command_handler/command_handler.c **** 
  24:Core/Src/command_handler/command_handler.c **** /* Exported functions --------------------------------------------------------*/
  25:Core/Src/command_handler/command_handler.c **** 
  26:Core/Src/command_handler/command_handler.c **** void CommandHandler_Init(void) {
  29              		.loc 1 26 32 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s 			page 2


  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  27:Core/Src/command_handler/command_handler.c ****     s_measurement_timer = HAL_GetTick();
  38              		.loc 1 27 5 view .LVU1
  39              		.loc 1 27 27 is_stmt 0 view .LVU2
  40 0002 FFF7FEFF 		bl	HAL_GetTick
  41              	.LVL0:
  42              		.loc 1 27 25 discriminator 1 view .LVU3
  43 0006 014B     		ldr	r3, .L3
  44 0008 1860     		str	r0, [r3]
  28:Core/Src/command_handler/command_handler.c **** }
  45              		.loc 1 28 1 view .LVU4
  46 000a 08BD     		pop	{r3, pc}
  47              	.L4:
  48              		.align	2
  49              	.L3:
  50 000c 00000000 		.word	s_measurement_timer
  51              		.cfi_endproc
  52              	.LFE137:
  54              		.section	.rodata.Verify_LIS3DH_Sensor.str1.4,"aMS",%progbits,1
  55              		.align	2
  56              	.LC0:
  57 0000 56657269 		.ascii	"Verifying LIS3DH Sensor State...\015\012\000"
  57      6679696E 
  57      67204C49 
  57      53334448 
  57      2053656E 
  58 0023 00       		.align	2
  59              	.LC1:
  60 0024 52656164 		.ascii	"Read WHO_AM_I: 0x%02X (Expected: 0x%02X)\015\012\000"
  60      2057484F 
  60      5F414D5F 
  60      493A2030 
  60      78253032 
  61 004f 00       		.align	2
  62              	.LC2:
  63 0050 52656164 		.ascii	"Read CTRL_REG1: 0x%02X (Expected: 0x%02X)\015\012\000"
  63      20435452 
  63      4C5F5245 
  63      47313A20 
  63      30782530 
  64              		.align	2
  65              	.LC3:
  66 007c 53554343 		.ascii	"SUCCESS: LIS3DH sensor verification passed!\015\012"
  66      4553533A 
  66      204C4953 
  66      33444820 
  66      73656E73 
  67 00a9 00       		.ascii	"\000"
  68 00aa 0000     		.align	2
  69              	.LC4:
  70 00ac 4552524F 		.ascii	"ERROR: LIS3DH verification failed.\015\012\000"
  70      523A204C 
  70      49533344 
ARM GAS  /var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s 			page 3


  70      48207665 
  70      72696669 
  71              		.section	.text.Verify_LIS3DH_Sensor,"ax",%progbits
  72              		.align	1
  73              		.global	Verify_LIS3DH_Sensor
  74              		.syntax unified
  75              		.thumb
  76              		.thumb_func
  78              	Verify_LIS3DH_Sensor:
  79              	.LFB138:
  29:Core/Src/command_handler/command_handler.c **** 
  30:Core/Src/command_handler/command_handler.c **** bool Verify_LIS3DH_Sensor(void) {
  80              		.loc 1 30 33 is_stmt 1 view -0
  81              		.cfi_startproc
  82              		@ args = 0, pretend = 0, frame = 128
  83              		@ frame_needed = 0, uses_anonymous_args = 0
  84 0000 30B5     		push	{r4, r5, lr}
  85              	.LCFI1:
  86              		.cfi_def_cfa_offset 12
  87              		.cfi_offset 4, -12
  88              		.cfi_offset 5, -8
  89              		.cfi_offset 14, -4
  90 0002 A1B0     		sub	sp, sp, #132
  91              	.LCFI2:
  92              		.cfi_def_cfa_offset 144
  31:Core/Src/command_handler/command_handler.c ****     char diag_buffer[128];
  93              		.loc 1 31 5 view .LVU6
  32:Core/Src/command_handler/command_handler.c ****     WriteUART_Blocking("Verifying LIS3DH Sensor State...\r\n");
  94              		.loc 1 32 5 view .LVU7
  95 0004 1748     		ldr	r0, .L10
  96 0006 FFF7FEFF 		bl	WriteUART_Blocking
  97              	.LVL1:
  33:Core/Src/command_handler/command_handler.c ****     HAL_Delay(10);
  98              		.loc 1 33 5 view .LVU8
  99 000a 0A20     		movs	r0, #10
 100 000c FFF7FEFF 		bl	HAL_Delay
 101              	.LVL2:
  34:Core/Src/command_handler/command_handler.c ****     u8 who_am_i = readACC(LIS3DH_REG_WHO_AM_I);
 102              		.loc 1 34 5 view .LVU9
 103              		.loc 1 34 19 is_stmt 0 view .LVU10
 104 0010 0F20     		movs	r0, #15
 105 0012 FFF7FEFF 		bl	readACC
 106              	.LVL3:
 107 0016 0446     		mov	r4, r0
 108              	.LVL4:
  35:Core/Src/command_handler/command_handler.c ****     sprintf(diag_buffer, "Read WHO_AM_I: 0x%02X (Expected: 0x%02X)\r\n", who_am_i, LIS3DH_WHO_AM_I_
 109              		.loc 1 35 5 is_stmt 1 view .LVU11
 110 0018 3323     		movs	r3, #51
 111 001a 0246     		mov	r2, r0
 112 001c 1249     		ldr	r1, .L10+4
 113 001e 6846     		mov	r0, sp
 114              	.LVL5:
 115              		.loc 1 35 5 is_stmt 0 view .LVU12
 116 0020 FFF7FEFF 		bl	sprintf
 117              	.LVL6:
  36:Core/Src/command_handler/command_handler.c ****     WriteUART_Blocking(diag_buffer);
 118              		.loc 1 36 5 is_stmt 1 view .LVU13
ARM GAS  /var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s 			page 4


 119 0024 6846     		mov	r0, sp
 120 0026 FFF7FEFF 		bl	WriteUART_Blocking
 121              	.LVL7:
  37:Core/Src/command_handler/command_handler.c ****     u8 ctrl_reg1 = readACC(LIS3DH_REG_CTRL_REG1);
 122              		.loc 1 37 5 view .LVU14
 123              		.loc 1 37 20 is_stmt 0 view .LVU15
 124 002a 2020     		movs	r0, #32
 125 002c FFF7FEFF 		bl	readACC
 126              	.LVL8:
 127 0030 0546     		mov	r5, r0
 128              	.LVL9:
  38:Core/Src/command_handler/command_handler.c ****     sprintf(diag_buffer, "Read CTRL_REG1: 0x%02X (Expected: 0x%02X)\r\n", ctrl_reg1, ACC_CTRL_REG1_
 129              		.loc 1 38 5 is_stmt 1 view .LVU16
 130 0032 5723     		movs	r3, #87
 131 0034 0246     		mov	r2, r0
 132 0036 0D49     		ldr	r1, .L10+8
 133 0038 6846     		mov	r0, sp
 134              	.LVL10:
 135              		.loc 1 38 5 is_stmt 0 view .LVU17
 136 003a FFF7FEFF 		bl	sprintf
 137              	.LVL11:
  39:Core/Src/command_handler/command_handler.c ****     WriteUART_Blocking(diag_buffer);
 138              		.loc 1 39 5 is_stmt 1 view .LVU18
 139 003e 6846     		mov	r0, sp
 140 0040 FFF7FEFF 		bl	WriteUART_Blocking
 141              	.LVL12:
  40:Core/Src/command_handler/command_handler.c ****     if (who_am_i == LIS3DH_WHO_AM_I_EXPECTED_VAL && ctrl_reg1 == ACC_CTRL_REG1_CONFIG_100HZ) {
 142              		.loc 1 40 5 view .LVU19
 143              		.loc 1 40 8 is_stmt 0 view .LVU20
 144 0044 332C     		cmp	r4, #51
 145 0046 01D1     		bne	.L6
 146              		.loc 1 40 50 discriminator 1 view .LVU21
 147 0048 572D     		cmp	r5, #87
 148 004a 05D0     		beq	.L9
 149              	.L6:
  41:Core/Src/command_handler/command_handler.c ****         WriteUART_Blocking("SUCCESS: LIS3DH sensor verification passed!\r\n");
  42:Core/Src/command_handler/command_handler.c ****         return true;
  43:Core/Src/command_handler/command_handler.c ****     } else {
  44:Core/Src/command_handler/command_handler.c ****         WriteUART_Blocking("ERROR: LIS3DH verification failed.\r\n");
 150              		.loc 1 44 9 is_stmt 1 view .LVU22
 151 004c 0848     		ldr	r0, .L10+12
 152 004e FFF7FEFF 		bl	WriteUART_Blocking
 153              	.LVL13:
  45:Core/Src/command_handler/command_handler.c ****         return false;
 154              		.loc 1 45 9 view .LVU23
 155              		.loc 1 45 16 is_stmt 0 view .LVU24
 156 0052 0020     		movs	r0, #0
 157              	.L7:
  46:Core/Src/command_handler/command_handler.c ****     }
  47:Core/Src/command_handler/command_handler.c **** }
 158              		.loc 1 47 1 view .LVU25
 159 0054 21B0     		add	sp, sp, #132
 160              	.LCFI3:
 161              		.cfi_remember_state
 162              		.cfi_def_cfa_offset 12
 163              		@ sp needed
 164 0056 30BD     		pop	{r4, r5, pc}
ARM GAS  /var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s 			page 5


 165              	.L9:
 166              	.LCFI4:
 167              		.cfi_restore_state
  41:Core/Src/command_handler/command_handler.c ****         return true;
 168              		.loc 1 41 9 is_stmt 1 view .LVU26
 169 0058 0648     		ldr	r0, .L10+16
 170 005a FFF7FEFF 		bl	WriteUART_Blocking
 171              	.LVL14:
  42:Core/Src/command_handler/command_handler.c ****     } else {
 172              		.loc 1 42 9 view .LVU27
  42:Core/Src/command_handler/command_handler.c ****     } else {
 173              		.loc 1 42 16 is_stmt 0 view .LVU28
 174 005e 0120     		movs	r0, #1
 175 0060 F8E7     		b	.L7
 176              	.L11:
 177 0062 00BF     		.align	2
 178              	.L10:
 179 0064 00000000 		.word	.LC0
 180 0068 24000000 		.word	.LC1
 181 006c 50000000 		.word	.LC2
 182 0070 AC000000 		.word	.LC4
 183 0074 7C000000 		.word	.LC3
 184              		.cfi_endproc
 185              	.LFE138:
 187              		.section	.rodata.Check_GPS_Status.str1.4,"aMS",%progbits,1
 188              		.align	2
 189              	.LC5:
 190 0000 57616974 		.ascii	"Waiting for GPS fix... (This can take several minut"
 190      696E6720 
 190      666F7220 
 190      47505320 
 190      6669782E 
 191 0033 6573290D 		.ascii	"es)\015\012\000"
 191      0A00
 192 0039 000000   		.align	2
 193              	.LC6:
 194 003c 4552524F 		.ascii	"ERROR: Timed out waiting for GPS fix.\015\012\000"
 194      523A2054 
 194      696D6564 
 194      206F7574 
 194      20776169 
 195              		.align	2
 196              	.LC7:
 197 0064 53554343 		.ascii	"SUCCESS: GPS fix acquired.\015\012\000"
 197      4553533A 
 197      20475053 
 197      20666978 
 197      20616371 
 198              		.section	.text.Check_GPS_Status,"ax",%progbits
 199              		.align	1
 200              		.global	Check_GPS_Status
 201              		.syntax unified
 202              		.thumb
 203              		.thumb_func
 205              	Check_GPS_Status:
 206              	.LFB139:
  48:Core/Src/command_handler/command_handler.c **** 
ARM GAS  /var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s 			page 6


  49:Core/Src/command_handler/command_handler.c **** /**
  50:Core/Src/command_handler/command_handler.c ****  * @brief Checks for a valid GPS fix, with a timeout.
  51:Core/Src/command_handler/command_handler.c ****  * @note  This is a blocking function that will loop until a fix is acquired
  52:Core/Src/command_handler/command_handler.c ****  * or the timeout is reached. It provides visual feedback while searching.
  53:Core/Src/command_handler/command_handler.c ****  * @retval bool: true if a valid GPS fix was acquired, false if it timed out.
  54:Core/Src/command_handler/command_handler.c ****  */
  55:Core/Src/command_handler/command_handler.c **** bool Check_GPS_Status(void) {
 207              		.loc 1 55 29 is_stmt 1 view -0
 208              		.cfi_startproc
 209              		@ args = 0, pretend = 0, frame = 0
 210              		@ frame_needed = 0, uses_anonymous_args = 0
 211 0000 38B5     		push	{r3, r4, r5, lr}
 212              	.LCFI5:
 213              		.cfi_def_cfa_offset 16
 214              		.cfi_offset 3, -16
 215              		.cfi_offset 4, -12
 216              		.cfi_offset 5, -8
 217              		.cfi_offset 14, -4
  56:Core/Src/command_handler/command_handler.c ****     uint32_t start_time = HAL_GetTick();
 218              		.loc 1 56 5 view .LVU30
 219              		.loc 1 56 27 is_stmt 0 view .LVU31
 220 0002 FFF7FEFF 		bl	HAL_GetTick
 221              	.LVL15:
 222 0006 0446     		mov	r4, r0
 223              	.LVL16:
  57:Core/Src/command_handler/command_handler.c ****     WriteUART_Blocking("Waiting for GPS fix... (This can take several minutes)\r\n");
 224              		.loc 1 57 5 is_stmt 1 view .LVU32
 225 0008 1348     		ldr	r0, .L19
 226              	.LVL17:
 227              		.loc 1 57 5 is_stmt 0 view .LVU33
 228 000a FFF7FEFF 		bl	WriteUART_Blocking
 229              	.LVL18:
  58:Core/Src/command_handler/command_handler.c **** 
  59:Core/Src/command_handler/command_handler.c ****     // Loop until we get a valid fix or we time out
  60:Core/Src/command_handler/command_handler.c ****     while (GPS_Get_Latest_Data(NULL) == false) {
 230              		.loc 1 60 5 is_stmt 1 view .LVU34
 231              		.loc 1 60 11 is_stmt 0 view .LVU35
 232 000e 07E0     		b	.L13
 233              	.L14:
  61:Core/Src/command_handler/command_handler.c ****         // Check for timeout
  62:Core/Src/command_handler/command_handler.c ****         if ((HAL_GetTick() - start_time) > GPS_FIX_TIMEOUT_MS) {
  63:Core/Src/command_handler/command_handler.c ****             WriteUART_Blocking("ERROR: Timed out waiting for GPS fix.\r\n");
  64:Core/Src/command_handler/command_handler.c ****             WriteDigitalOut(&g_builtinLed, 0); // Turn off blinking LED
  65:Core/Src/command_handler/command_handler.c ****             return false; // Return failure
  66:Core/Src/command_handler/command_handler.c ****         }
  67:Core/Src/command_handler/command_handler.c **** 
  68:Core/Src/command_handler/command_handler.c ****         // Provide visual "searching" feedback with a fast blink
  69:Core/Src/command_handler/command_handler.c ****         HAL_GPIO_TogglePin(g_builtinLed.pin.port, g_builtinLed.pin.pin);
 234              		.loc 1 69 9 is_stmt 1 view .LVU36
 235 0010 124B     		ldr	r3, .L19+4
 236 0012 9988     		ldrh	r1, [r3, #4]
 237 0014 1868     		ldr	r0, [r3]
 238 0016 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 239              	.LVL19:
  70:Core/Src/command_handler/command_handler.c ****         HAL_Delay(100); // Fast blink
 240              		.loc 1 70 9 view .LVU37
 241 001a 6420     		movs	r0, #100
ARM GAS  /var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s 			page 7


 242 001c FFF7FEFF 		bl	HAL_Delay
 243              	.LVL20:
 244              	.L13:
  60:Core/Src/command_handler/command_handler.c ****         // Check for timeout
 245              		.loc 1 60 38 view .LVU38
  60:Core/Src/command_handler/command_handler.c ****         // Check for timeout
 246              		.loc 1 60 12 is_stmt 0 view .LVU39
 247 0020 0020     		movs	r0, #0
 248 0022 FFF7FEFF 		bl	GPS_Get_Latest_Data
 249              	.LVL21:
  60:Core/Src/command_handler/command_handler.c ****         // Check for timeout
 250              		.loc 1 60 38 discriminator 1 view .LVU40
 251 0026 0546     		mov	r5, r0
 252 0028 68B9     		cbnz	r0, .L18
  62:Core/Src/command_handler/command_handler.c ****             WriteUART_Blocking("ERROR: Timed out waiting for GPS fix.\r\n");
 253              		.loc 1 62 9 is_stmt 1 view .LVU41
  62:Core/Src/command_handler/command_handler.c ****             WriteUART_Blocking("ERROR: Timed out waiting for GPS fix.\r\n");
 254              		.loc 1 62 14 is_stmt 0 view .LVU42
 255 002a FFF7FEFF 		bl	HAL_GetTick
 256              	.LVL22:
  62:Core/Src/command_handler/command_handler.c ****             WriteUART_Blocking("ERROR: Timed out waiting for GPS fix.\r\n");
 257              		.loc 1 62 28 discriminator 1 view .LVU43
 258 002e 001B     		subs	r0, r0, r4
  62:Core/Src/command_handler/command_handler.c ****             WriteUART_Blocking("ERROR: Timed out waiting for GPS fix.\r\n");
 259              		.loc 1 62 12 discriminator 1 view .LVU44
 260 0030 0B4B     		ldr	r3, .L19+8
 261 0032 9842     		cmp	r0, r3
 262 0034 ECD9     		bls	.L14
  63:Core/Src/command_handler/command_handler.c ****             WriteDigitalOut(&g_builtinLed, 0); // Turn off blinking LED
 263              		.loc 1 63 13 is_stmt 1 view .LVU45
 264 0036 0B48     		ldr	r0, .L19+12
 265 0038 FFF7FEFF 		bl	WriteUART_Blocking
 266              	.LVL23:
  64:Core/Src/command_handler/command_handler.c ****             return false; // Return failure
 267              		.loc 1 64 13 view .LVU46
 268 003c 0021     		movs	r1, #0
 269 003e 0748     		ldr	r0, .L19+4
 270 0040 FFF7FEFF 		bl	WriteDigitalOut
 271              	.LVL24:
  65:Core/Src/command_handler/command_handler.c ****         }
 272              		.loc 1 65 13 view .LVU47
  65:Core/Src/command_handler/command_handler.c ****         }
 273              		.loc 1 65 20 is_stmt 0 view .LVU48
 274 0044 06E0     		b	.L15
 275              	.L18:
  71:Core/Src/command_handler/command_handler.c ****     }
  72:Core/Src/command_handler/command_handler.c **** 
  73:Core/Src/command_handler/command_handler.c ****     // If we exit the loop, we have a fix!
  74:Core/Src/command_handler/command_handler.c ****     WriteUART_Blocking("SUCCESS: GPS fix acquired.\r\n");
 276              		.loc 1 74 5 is_stmt 1 view .LVU49
 277 0046 0848     		ldr	r0, .L19+16
 278 0048 FFF7FEFF 		bl	WriteUART_Blocking
 279              	.LVL25:
  75:Core/Src/command_handler/command_handler.c ****     WriteDigitalOut(&g_builtinLed, 0); // Turn LED off to prepare for "ready" blinks
 280              		.loc 1 75 5 view .LVU50
 281 004c 0021     		movs	r1, #0
 282 004e 0348     		ldr	r0, .L19+4
ARM GAS  /var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s 			page 8


 283 0050 FFF7FEFF 		bl	WriteDigitalOut
 284              	.LVL26:
  76:Core/Src/command_handler/command_handler.c ****     return true; // Return success
 285              		.loc 1 76 5 view .LVU51
 286              	.L15:
  77:Core/Src/command_handler/command_handler.c **** }
 287              		.loc 1 77 1 is_stmt 0 view .LVU52
 288 0054 2846     		mov	r0, r5
 289 0056 38BD     		pop	{r3, r4, r5, pc}
 290              	.LVL27:
 291              	.L20:
 292              		.loc 1 77 1 view .LVU53
 293              		.align	2
 294              	.L19:
 295 0058 00000000 		.word	.LC5
 296 005c 00000000 		.word	g_builtinLed
 297 0060 E0930400 		.word	300000
 298 0064 3C000000 		.word	.LC6
 299 0068 64000000 		.word	.LC7
 300              		.cfi_endproc
 301              	.LFE139:
 303              		.section	.text.measure_loop,"ax",%progbits
 304              		.align	1
 305              		.global	measure_loop
 306              		.syntax unified
 307              		.thumb
 308              		.thumb_func
 310              	measure_loop:
 311              	.LFB140:
  78:Core/Src/command_handler/command_handler.c **** 
  79:Core/Src/command_handler/command_handler.c **** void measure_loop(void) {
 312              		.loc 1 79 25 is_stmt 1 view -0
 313              		.cfi_startproc
 314              		@ args = 0, pretend = 0, frame = 0
 315              		@ frame_needed = 0, uses_anonymous_args = 0
 316 0000 08B5     		push	{r3, lr}
 317              	.LCFI6:
 318              		.cfi_def_cfa_offset 8
 319              		.cfi_offset 3, -8
 320              		.cfi_offset 14, -4
  80:Core/Src/command_handler/command_handler.c ****     if (g_is_logging_active) {
 321              		.loc 1 80 5 view .LVU55
 322              		.loc 1 80 9 is_stmt 0 view .LVU56
 323 0002 084B     		ldr	r3, .L25
 324 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 325              		.loc 1 80 8 view .LVU57
 326 0006 03B9     		cbnz	r3, .L24
 327              	.L21:
  81:Core/Src/command_handler/command_handler.c ****         if (timer_handler(MEASUREMENT_INTERVAL_MS, &s_measurement_timer)) {
  82:Core/Src/command_handler/command_handler.c ****             // In the final version, this will call a function that logs both accel and GPS
  83:Core/Src/command_handler/command_handler.c ****             read_I2C_Blocking();
  84:Core/Src/command_handler/command_handler.c ****             Log_Latest_GPS_Data();
  85:Core/Src/command_handler/command_handler.c ****         }
  86:Core/Src/command_handler/command_handler.c ****     }
  87:Core/Src/command_handler/command_handler.c **** }
 328              		.loc 1 87 1 view .LVU58
 329 0008 08BD     		pop	{r3, pc}
ARM GAS  /var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s 			page 9


 330              	.L24:
  81:Core/Src/command_handler/command_handler.c ****         if (timer_handler(MEASUREMENT_INTERVAL_MS, &s_measurement_timer)) {
 331              		.loc 1 81 9 is_stmt 1 view .LVU59
  81:Core/Src/command_handler/command_handler.c ****         if (timer_handler(MEASUREMENT_INTERVAL_MS, &s_measurement_timer)) {
 332              		.loc 1 81 13 is_stmt 0 view .LVU60
 333 000a 0749     		ldr	r1, .L25+4
 334 000c 4FF47A70 		mov	r0, #1000
 335 0010 FFF7FEFF 		bl	timer_handler
 336              	.LVL28:
  81:Core/Src/command_handler/command_handler.c ****         if (timer_handler(MEASUREMENT_INTERVAL_MS, &s_measurement_timer)) {
 337              		.loc 1 81 12 discriminator 1 view .LVU61
 338 0014 0028     		cmp	r0, #0
 339 0016 F7D0     		beq	.L21
 340              	.LBB2:
  83:Core/Src/command_handler/command_handler.c ****             Log_Latest_GPS_Data();
 341              		.loc 1 83 13 is_stmt 1 view .LVU62
 342 0018 FFF7FEFF 		bl	read_I2C_Blocking
 343              	.LVL29:
  84:Core/Src/command_handler/command_handler.c ****         }
 344              		.loc 1 84 13 view .LVU63
 345 001c FFF7FEFF 		bl	Log_Latest_GPS_Data
 346              	.LVL30:
 347              	.LBE2:
 348              		.loc 1 87 1 is_stmt 0 view .LVU64
 349 0020 F2E7     		b	.L21
 350              	.L26:
 351 0022 00BF     		.align	2
 352              	.L25:
 353 0024 00000000 		.word	g_is_logging_active
 354 0028 00000000 		.word	s_measurement_timer
 355              		.cfi_endproc
 356              	.LFE140:
 358              		.section	.bss.s_measurement_timer,"aw",%nobits
 359              		.align	2
 362              	s_measurement_timer:
 363 0000 00000000 		.space	4
 364              		.text
 365              	.Letext0:
 366              		.file 2 "/Applications/ArmGNUToolchain/13.3.rel1/arm-none-eabi/arm-none-eabi/include/machine/_defa
 367              		.file 3 "/Applications/ArmGNUToolchain/13.3.rel1/arm-none-eabi/arm-none-eabi/include/sys/_stdint.h
 368              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f411xe.h"
 369              		.file 5 "Core/Src/library/aml_hal.h"
 370              		.file 6 "Core/Src/gpio_handler/gpio_handler.h"
 371              		.file 7 "Core/Src/gps_handler/gps_handler.h"
 372              		.file 8 "Core/Src/timer/timer.h"
 373              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 374              		.file 10 "/Applications/ArmGNUToolchain/13.3.rel1/arm-none-eabi/arm-none-eabi/include/stdio.h"
 375              		.file 11 "Core/Src/i2c_handler/i2c_handler.h"
 376              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 377              		.file 13 "Core/Src/uart_handler/uart_handler.h"
ARM GAS  /var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s 			page 10


DEFINED SYMBOLS
                            *ABS*:00000000 command_handler.c
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:21     .text.CommandHandler_Init:00000000 $t
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:27     .text.CommandHandler_Init:00000000 CommandHandler_Init
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:50     .text.CommandHandler_Init:0000000c $d
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:362    .bss.s_measurement_timer:00000000 s_measurement_timer
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:55     .rodata.Verify_LIS3DH_Sensor.str1.4:00000000 $d
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:72     .text.Verify_LIS3DH_Sensor:00000000 $t
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:78     .text.Verify_LIS3DH_Sensor:00000000 Verify_LIS3DH_Sensor
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:179    .text.Verify_LIS3DH_Sensor:00000064 $d
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:188    .rodata.Check_GPS_Status.str1.4:00000000 $d
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:199    .text.Check_GPS_Status:00000000 $t
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:205    .text.Check_GPS_Status:00000000 Check_GPS_Status
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:295    .text.Check_GPS_Status:00000058 $d
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:304    .text.measure_loop:00000000 $t
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:310    .text.measure_loop:00000000 measure_loop
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:353    .text.measure_loop:00000024 $d
/var/folders/25/vg8ydb454_z3v37m53jqj5280000gn/T//ccWmHsZC.s:359    .bss.s_measurement_timer:00000000 $d

UNDEFINED SYMBOLS
HAL_GetTick
WriteUART_Blocking
HAL_Delay
readACC
sprintf
HAL_GPIO_TogglePin
GPS_Get_Latest_Data
WriteDigitalOut
g_builtinLed
timer_handler
read_I2C_Blocking
Log_Latest_GPS_Data
g_is_logging_active
